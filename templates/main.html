{% extends "layout.html" %}

{% block body %}
{% if session.username %}
<div class="row">
<div class="col-lg-3 col-lg-offset-4">
	<h1>Welcome!</h1>
	<form method="post">
		<div class="form-group">
		<div class="input-group input-group-sm">
  		<span class="input-group-addon" id="category-addon">Category</span>
  		<input type="text" class="form-control" placeholder="Your new category..." aria-describedby="category-addon" name="category" required>
		</div>	
		</div>	
		<div class="form-group">
<div class="input-group input-group-sm">
  		<span class="input-group-addon" id="priority-addon">Priority</span>
  		<input type="text" class="form-control" placeholder="0 to 100" aria-describedby="priority-addon" type="number" pattern="\d{1,3}" name="priority" min="0" max="100" required>
		</div>
		</div>
		<div class="form-group">
	<div class="input-group input-group-sm">
  		<span class="input-group-addon" id="description-addon">Description</span>
  		<input type="text" class="form-control" placeholder="Category description..." aria-describedby="description-addon" name="description" required>
		</div>
		</div>
		<div class="form-group">
		<button type="submit" class="btn btn-default">Submit</button>
		</div></form>
</div>
</div>
	{% endif %}
<div class="row">
<div class="col-lg-3 col-lg-offset-4">
<table class="table table-hover">
	<thead>
		<tr>
		{% for col in cols %}
  		<th>{{ col|upper }}</th>
		{% endfor %}
  		<th></th>
		</tr>
	</thead>
	<tbody>
		{% for task in tasks %}
		<tr>
  		<td>{{ task.category|e }}</td>
  		<td>{{ task.priority|e }}</td>
  		<td>{{ task.description|e }}</td>
		<td>
		{% if session.username %}
		<form method="POST" action="{{ url_for('delete') }}">
		<input type="hidden" name="id" value="{{ task.rowid }}">	
		<button type="submit" class="btn btn-default">Delete</button></form></td>
		{% endif %}
		</tr>
		{% endfor %}
	
	</tbody>
</table>	
</div>
</div>
{% endblock %}
